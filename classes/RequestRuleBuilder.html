<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>RequestRuleBuilder | mockttp</title><meta name="description" content="Documentation for mockttp"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">mockttp</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">mockttp</a></li><li><a href="RequestRuleBuilder.html">RequestRuleBuilder</a></li></ul><h1>Class RequestRuleBuilder</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>RequestRuleBuilder</p>
<p>A builder for defining mock rules. Create one using a method like
<code>.forGet(path)</code> or <code>.forPost(path)</code> on a Mockttp instance, then call
whatever methods you'd like here to define more precise request
matching behaviour, control how the request is handled, and how
many times this rule should be applied.</p>
<p>When you're done, call a <code>.thenX()</code> method to register the configured rule
with the server. These return a promise for a MockedEndpoint, which can be
used to verify the details of the requests matched by the rule.</p>
<p>This returns a promise because rule registration can be asynchronous,
either when using a remote server or testing in the browser. Wait for the
promise returned by <code>.thenX()</code> methods to guarantee that the rule has taken
effect before sending requests to it.</p>
</div><div class="tsd-comment tsd-typography"></div></section><section class="tsd-panel tsd-hierarchy"><h4>Hierarchy</h4><ul class="tsd-hierarchy"><li><span class="tsd-signature-type">BaseRuleBuilder</span><ul class="tsd-hierarchy"><li><span class="target">RequestRuleBuilder</span></li></ul></li></ul></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L50">rules/requests/request-rule-builder.ts:50</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Completion</h3><div class="tsd-index-list"><a href="RequestRuleBuilder.html#always" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>always</span></a>
<a href="RequestRuleBuilder.html#once" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>once</span></a>
<a href="RequestRuleBuilder.html#thrice" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>thrice</span></a>
<a href="RequestRuleBuilder.html#times" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>times</span></a>
<a href="RequestRuleBuilder.html#twice" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>twice</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Matching</h3><div class="tsd-index-list"><a href="RequestRuleBuilder.html#forHost" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>for<wbr/>Host</span></a>
<a href="RequestRuleBuilder.html#forHostname" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>for<wbr/>Hostname</span></a>
<a href="RequestRuleBuilder.html#forPort" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>for<wbr/>Port</span></a>
<a href="RequestRuleBuilder.html#matching" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>matching</span></a>
<a href="RequestRuleBuilder.html#withBody" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Body</span></a>
<a href="RequestRuleBuilder.html#withBodyIncluding" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Body<wbr/>Including</span></a>
<a href="RequestRuleBuilder.html#withCookie" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Cookie</span></a>
<a href="RequestRuleBuilder.html#withExactQuery" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Exact<wbr/>Query</span></a>
<a href="RequestRuleBuilder.html#withForm" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Form</span></a>
<a href="RequestRuleBuilder.html#withHeaders" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Headers</span></a>
<a href="RequestRuleBuilder.html#withJsonBody" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Json<wbr/>Body</span></a>
<a href="RequestRuleBuilder.html#withJsonBodyIncluding" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Json<wbr/>Body<wbr/>Including</span></a>
<a href="RequestRuleBuilder.html#withMultipartForm" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Multipart<wbr/>Form</span></a>
<a href="RequestRuleBuilder.html#withProtocol" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Protocol</span></a>
<a href="RequestRuleBuilder.html#withQuery" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Query</span></a>
<a href="RequestRuleBuilder.html#withUrlMatching" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Url<wbr/>Matching</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Other</h3><div class="tsd-index-list"><a href="RequestRuleBuilder.html#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
<a href="RequestRuleBuilder.html#addWebhook" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>add<wbr/>Webhook</span></a>
<a href="RequestRuleBuilder.html#asPriority" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>as<wbr/>Priority</span></a>
<a href="RequestRuleBuilder.html#delay" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>delay</span></a>
<a href="RequestRuleBuilder.html#waitForRequestBody" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>wait<wbr/>For<wbr/>Request<wbr/>Body</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Responses</h3><div class="tsd-index-list"><a href="RequestRuleBuilder.html#thenCallback" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Callback</span></a>
<a href="RequestRuleBuilder.html#thenCloseConnection" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Close<wbr/>Connection</span></a>
<a href="RequestRuleBuilder.html#thenForwardTo" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Forward<wbr/>To</span></a>
<a href="RequestRuleBuilder.html#thenFromFile" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>From<wbr/>File</span></a>
<a href="RequestRuleBuilder.html#thenJson" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Json</span></a>
<a href="RequestRuleBuilder.html#thenPassThrough" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Pass<wbr/>Through</span></a>
<a href="RequestRuleBuilder.html#thenReply" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Reply</span></a>
<a href="RequestRuleBuilder.html#thenResetConnection" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Reset<wbr/>Connection</span></a>
<a href="RequestRuleBuilder.html#thenSendJsonRpcError" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Send<wbr/>Json<wbr/>Rpc<wbr/>Error</span></a>
<a href="RequestRuleBuilder.html#thenSendJsonRpcResult" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Send<wbr/>Json<wbr/>Rpc<wbr/>Result</span></a>
<a href="RequestRuleBuilder.html#thenStream" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Stream</span></a>
<a href="RequestRuleBuilder.html#thenTimeout" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Timeout</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Completion"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Completion</h2></summary><section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="always" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>always</span><a href="#always" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="always.always-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">always</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#always.always-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Run this rule forever, for all matching requests</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.always</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L272">rules/base-rule-builder.ts:272</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="once" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>once</span><a href="#once" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="once.once-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">once</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#once.once-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Run this rule only once, for the first matching request</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.once</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L281">rules/base-rule-builder.ts:281</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="thrice" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>thrice</span><a href="#thrice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="thrice.thrice-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">thrice</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#thrice.thrice-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Run this rule three times, for the first three matching requests</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.thrice</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L299">rules/base-rule-builder.ts:299</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="times" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>times</span><a href="#times" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="times.times-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">times</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">n</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#times.times-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Run this rule the given number of times, for the first matching requests</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">n</span>: <span class="tsd-signature-type">number</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.times</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L308">rules/base-rule-builder.ts:308</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="twice" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>twice</span><a href="#twice" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="twice.twice-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">twice</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#twice.twice-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Run this rule twice, for the first two matching requests</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.twice</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L290">rules/base-rule-builder.ts:290</a></li></ul></aside></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Matching"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Matching</h2></summary><section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="forHost" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>for<wbr/>Host</span><a href="#forHost" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="forHost.forHost-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">for<wbr/>Host</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">host</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#forHost.forHost-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests sent to the given host, i.e. the full hostname plus
port included in the request.</p>
<p>This can behave somewhat confusingly when matching against the default
ports for a protocol (i.e. 80/443), or when specifying a hostname here
without specifying the port. In those cases it's usually better to use
forHostname and/or forPort instead to explicit match the content you're
interested in.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">host</span>: <span class="tsd-signature-type">string</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.forHost</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L94">rules/base-rule-builder.ts:94</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="forHostname" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>for<wbr/>Hostname</span><a href="#forHostname" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="forHostname.forHostname-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">for<wbr/>Hostname</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">hostname</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#forHostname.forHostname-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests sent to the given hostname, ignoring the port.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">hostname</span>: <span class="tsd-signature-type">string</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.forHostname</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L104">rules/base-rule-builder.ts:104</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="forPort" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>for<wbr/>Port</span><a href="#forPort" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="forPort.forPort-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">for<wbr/>Port</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">port</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#forPort.forPort-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests sent to the given port.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">port</span>: <span class="tsd-signature-type">number</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.forPort</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L114">rules/base-rule-builder.ts:114</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="matching" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>matching</span><a href="#matching" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="matching.matching-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">matching</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">content</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#matching.matching-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests when the callback returns true</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">content</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">request</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedRequest.html" class="tsd-signature-type tsd-kind-interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">MaybePromise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">request</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">MaybePromise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">request</span>: <a href="../interfaces/CompletedRequest.html" class="tsd-signature-type tsd-kind-interface">CompletedRequest</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">MaybePromise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.matching</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L261">rules/base-rule-builder.ts:261</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withBody" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Body</span><a href="#withBody" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withBody.withBody-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Body</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">content</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withBody.withBody-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests whose bodies either exactly match the given string
(if a string is passed) or whose bodies match a regular expression
(if a regex is passed).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">content</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withBody</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L180">rules/base-rule-builder.ts:180</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withBodyIncluding" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Body<wbr/>Including</span><a href="#withBodyIncluding" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withBodyIncluding.withBodyIncluding-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Body<wbr/>Including</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">content</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withBodyIncluding.withBodyIncluding-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests whose bodies include the given string.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">content</span>: <span class="tsd-signature-type">string</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withBodyIncluding</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L193">rules/base-rule-builder.ts:193</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withCookie" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Cookie</span><a href="#withCookie" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withCookie.withCookie-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Cookie</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">cookie</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withCookie.withCookie-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests that include the given cookies</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">cookie</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span>[<span class="tsd-kind-index-signature">key</span>: <span class="tsd-signature-type">string</span>]<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">string</span></h5></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withCookie</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L234">rules/base-rule-builder.ts:234</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withExactQuery" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Exact<wbr/>Query</span><a href="#withExactQuery" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withExactQuery.withExactQuery-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Exact<wbr/>Query</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withExactQuery.withExactQuery-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests that include the exact query string provided.
The query string must start with a ? or be entirely empty.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">query</span>: <span class="tsd-signature-type">string</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withExactQuery</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L142">rules/base-rule-builder.ts:142</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withForm" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Form</span><a href="#withForm" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withForm.withForm-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Form</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">formData</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withForm.withForm-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests whose bodies include the given URL-encoded form data.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">formData</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span>[<span class="tsd-kind-index-signature">key</span>: <span class="tsd-signature-type">string</span>]<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">string</span></h5></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withForm</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L151">rules/base-rule-builder.ts:151</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withHeaders" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Headers</span><a href="#withHeaders" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withHeaders.withHeaders-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Headers</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">headers</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withHeaders.withHeaders-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests that include the given headers.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">headers</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span>[<span class="tsd-kind-index-signature">key</span>: <span class="tsd-signature-type">string</span>]<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">string</span></h5></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withHeaders</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L123">rules/base-rule-builder.ts:123</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withJsonBody" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Json<wbr/>Body</span><a href="#withJsonBody" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withJsonBody.withJsonBody-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Json<wbr/>Body</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">json</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withJsonBody.withJsonBody-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests whose bodies exactly match the given
object, when parsed as JSON.</p>
<p>Note that this only tests that the body can be parsed
as JSON - it doesn't require a content-type header.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">json</span>: <span class="tsd-signature-symbol">{}</span></span><ul class="tsd-parameters"></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withJsonBody</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L206">rules/base-rule-builder.ts:206</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withJsonBodyIncluding" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Json<wbr/>Body<wbr/>Including</span><a href="#withJsonBodyIncluding" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withJsonBodyIncluding.withJsonBodyIncluding-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Json<wbr/>Body<wbr/>Including</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">json</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withJsonBodyIncluding.withJsonBodyIncluding-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests whose bodies match (contain equivalent
values, ignoring extra values) the given object, when
parsed as JSON. Matching behaviour is the same as Lodash's
_.isMatch method.</p>
<p>Note that this only tests that the body can be parsed
as JSON - it doesn't require a content-type header.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">json</span>: <span class="tsd-signature-symbol">{}</span></span><ul class="tsd-parameters"></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withJsonBodyIncluding</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L223">rules/base-rule-builder.ts:223</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withMultipartForm" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Multipart<wbr/>Form</span><a href="#withMultipartForm" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withMultipartForm.withMultipartForm-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Multipart<wbr/>Form</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">matchConditions</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withMultipartForm.withMultipartForm-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests whose bodies include the given multipart form data.</p>
<p>This can take any number of form parts to look for. Each part is specified
with <a href="../types/matchers.MultipartFieldMatchCondition.html" class="tsd-kind-type-alias">MultipartFieldMatchCondition</a> object containing one or more of
<code>name</code> (string), <code>filename</code> (string) and <code>content</code> (string or buffer) as
fields to match against in the form data.</p>
<p>Requests are matched if all conditions match at least one part in the
request's form data.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Rest</code><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">matchConditions</span>: <a href="../types/matchers.MultipartFieldMatchCondition.html" class="tsd-signature-type tsd-kind-type-alias">MultipartFieldMatchCondition</a><span class="tsd-signature-symbol">[]</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withMultipartForm</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L169">rules/base-rule-builder.ts:169</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withProtocol" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Protocol</span><a href="#withProtocol" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withProtocol.withProtocol-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Protocol</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">protocol</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withProtocol.withProtocol-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests sent with the given protocol.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">protocol</span>: <br/><span>    </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;http&quot;</span><br/><span>    </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;https&quot;</span><br/><span>    </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;wss&quot;</span><br/><span>    </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;ws&quot;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withProtocol</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L243">rules/base-rule-builder.ts:243</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withQuery" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Query</span><a href="#withQuery" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withQuery.withQuery-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Query</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">query</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withQuery.withQuery-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests that include the given query parameters.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">query</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span>[<span class="tsd-kind-index-signature">key</span>: <span class="tsd-signature-type">string</span>]<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span><span class="tsd-kind-parameter">key</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">[]</span></h5></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withQuery</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L132">rules/base-rule-builder.ts:132</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="withUrlMatching" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>with<wbr/>Url<wbr/>Matching</span><a href="#withUrlMatching" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="withUrlMatching.withUrlMatching-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">with<wbr/>Url<wbr/>Matching</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">pattern</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#withUrlMatching.withUrlMatching-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Match only requests whose absolute url matches the given RegExp.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">pattern</span>: <span class="tsd-signature-type">RegExp</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.withUrlMatching</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L252">rules/base-rule-builder.ts:252</a></li></ul></aside></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Other"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Other</h2></summary><section><section class="tsd-panel tsd-member"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="constructor.new_RequestRuleBuilder" class="tsd-anchor"></a><span class="tsd-kind-constructor-signature">new <wbr/>Request<wbr/>Rule<wbr/>Builder</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">addRule</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type tsd-kind-class">RequestRuleBuilder</a><a href="#constructor.new_RequestRuleBuilder" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Mock rule builders should be constructed through the Mockttp instance you're
using, not directly. You shouldn't ever need to call this constructor.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">addRule</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">rule</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/RequestRuleData.html" class="tsd-signature-type tsd-kind-interface">RequestRuleData</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">rule</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">rule</span>: <a href="../interfaces/RequestRuleData.html" class="tsd-signature-type tsd-kind-interface">RequestRuleData</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type tsd-kind-class">RequestRuleBuilder</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides BaseRuleBuilder.constructor</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L58">rules/requests/request-rule-builder.ts:58</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="constructor.new_RequestRuleBuilder-1" class="tsd-anchor"></a><span class="tsd-kind-constructor-signature">new <wbr/>Request<wbr/>Rule<wbr/>Builder</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">method</span>, <span class="tsd-kind-parameter">path</span>, <span class="tsd-kind-parameter">addRule</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="RequestRuleBuilder.html" class="tsd-signature-type tsd-kind-class">RequestRuleBuilder</a><a href="#constructor.new_RequestRuleBuilder-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">method</span>: <a href="../enums/Method.html" class="tsd-signature-type tsd-kind-enum">Method</a></span></li><li><span><span class="tsd-kind-parameter">path</span>: <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></span></li><li><span><span class="tsd-kind-parameter">addRule</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">rule</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/RequestRuleData.html" class="tsd-signature-type tsd-kind-interface">RequestRuleData</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">rule</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">rule</span>: <a href="../interfaces/RequestRuleData.html" class="tsd-signature-type tsd-kind-interface">RequestRuleData</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <a href="RequestRuleBuilder.html" class="tsd-signature-type tsd-kind-class">RequestRuleBuilder</a></h4><aside class="tsd-sources"><p>Overrides BaseRuleBuilder.constructor</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L59">rules/requests/request-rule-builder.ts:59</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="addWebhook" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>add<wbr/>Webhook</span><a href="#addWebhook" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="addWebhook.addWebhook-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">add<wbr/>Webhook</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">url</span>, <span class="tsd-kind-parameter">events</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#addWebhook.addWebhook-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Register a webhook for the given events. The provided URL will receive a POST request
with a JSON body containing the details of the configured events when they occur. If
no event list is specified then it defaults to <code>['request', 'response']</code>.</p>
<p>The JSON body will contain <code>{ eventType: string, eventData: object }</code>.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">url</span>: <span class="tsd-signature-type">string</span></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">events</span>: <a href="../types/requestSteps.RequestWebhookEvents.html" class="tsd-signature-type tsd-kind-type-alias">RequestWebhookEvents</a><span class="tsd-signature-symbol">[]</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L130">rules/requests/request-rule-builder.ts:130</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="asPriority" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>as<wbr/>Priority</span><a href="#asPriority" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="asPriority.asPriority-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">as<wbr/>Priority</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">priority</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#asPriority.asPriority-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Set the rule priority. Any matching rule with a higher priority will always
take precedence over a matching lower-priority rule, unless the higher rule
has an explicit completion check (like <code>.once()</code>) that has already been
completed.</p>
<p>The RulePriority enum defines the standard values useful for most cases,
but any positive number may be used for advanced configurations.</p>
<p>In many cases it may be simpler to use forUnmatchedRequest() to set a fallback
rule explicitly, rather than manually setting the priority here.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">priority</span>: <span class="tsd-signature-type">number</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BaseRuleBuilder.asPriority</p><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/base-rule-builder.ts#L77">rules/base-rule-builder.ts:77</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="delay" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>delay</span><a href="#delay" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="delay.delay-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">delay</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">ms</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#delay.delay-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Add a delay (in milliseconds) before the next step in the rule</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">ms</span>: <span class="tsd-signature-type">number</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L104">rules/requests/request-rule-builder.ts:104</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="waitForRequestBody" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>wait<wbr/>For<wbr/>Request<wbr/>Body</span><a href="#waitForRequestBody" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="waitForRequestBody.waitForRequestBody-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">wait<wbr/>For<wbr/>Request<wbr/>Body</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">this</span><a href="#waitForRequestBody.waitForRequestBody-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Wait until the request body has been fully received before continuing.</p>
<p>Without this, other handlers like <code>thenReply</code> will react immediately, e.g. sending a
response as soon as the headers are received, before the body has arrived. That is
perfectly valid and will probably work fine, but could cause strange behaviour
in some edge cases, and is not representative of how real server responses would
generally behave.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">this</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L118">rules/requests/request-rule-builder.ts:118</a></li></ul></aside></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Responses"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Responses</h2></summary><section><section class="tsd-panel tsd-member"><a id="thenCallback" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Callback</span><a href="#thenCallback" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenCallback.thenCallback-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Callback</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenCallback.thenCallback-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Call the given callback for any matched requests that are received,
and build a response from the result.</p>
<p>The callback should return a response object with the fields as
defined by <a href="../interfaces/requestSteps.CallbackResponseMessageResult.html" class="tsd-kind-interface">CallbackResponseMessageResult</a> to define the response,
or the string 'close' to immediately close the connection. The callback
can be asynchronous, in which case it should return this value wrapped
in a promise.</p>
<p>If the callback throws an exception, the server will return a 500
with the exception message.</p>
<p>Calling this method registers the rule with the server, so it
starts to handle requests.</p>
<p>This method returns a promise that resolves with a mocked endpoint.
Wait for the promise to confirm that the rule has taken effect
before sending requests to be matched. The mocked endpoint
can be used to assert on the requests matched by this rule.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">request</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/CompletedRequest.html" class="tsd-signature-type tsd-kind-interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">MaybePromise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/requestSteps.CallbackResponseResult.html" class="tsd-signature-type tsd-kind-type-alias">CallbackResponseResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">request</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">MaybePromise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/requestSteps.CallbackResponseResult.html" class="tsd-signature-type tsd-kind-type-alias">CallbackResponseResult</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">request</span>: <a href="../interfaces/CompletedRequest.html" class="tsd-signature-type tsd-kind-interface">CompletedRequest</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">MaybePromise</span><span class="tsd-signature-symbol">&lt;</span><a href="../types/requestSteps.CallbackResponseResult.html" class="tsd-signature-type tsd-kind-type-alias">CallbackResponseResult</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L266">rules/requests/request-rule-builder.ts:266</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenCloseConnection" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Close<wbr/>Connection</span><a href="#thenCloseConnection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenCloseConnection.thenCloseConnection-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Close<wbr/>Connection</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenCloseConnection.thenCloseConnection-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Close connections that match this rule immediately, without
any status code or response.</p>
<p>Calling this method registers the rule with the server, so it
starts to handle requests.</p>
<p>This method returns a promise that resolves with a mocked endpoint.
Wait for the promise to confirm that the rule has taken effect
before sending requests to be matched. The mocked endpoint
can be used to assert on the requests matched by this rule.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L457">rules/requests/request-rule-builder.ts:457</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenForwardTo" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Forward<wbr/>To</span><a href="#thenForwardTo" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenForwardTo.thenForwardTo-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Forward<wbr/>To</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">target</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenForwardTo.thenForwardTo-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Forward matched requests on to the specified forwardToUrl. The url
specified must not include a path. Otherwise, an error is thrown.
The path portion of the original request url is used instead.</p>
<p>The url may optionally contain a protocol. If it does, it will override
the protocol (and potentially the port, if unspecified) of the request.
If no protocol is specified, the protocol (and potentially the port)
of the original request URL will be used instead.</p>
<p>This method takes options to configure how the request is passed
through. See <a href="../interfaces/requestSteps.PassThroughStepOptions.html" class="tsd-kind-interface">PassThroughStepOptions</a> for the full details
of the options available.</p>
<p>Calling this method registers the rule with the server, so it
starts to handle requests.</p>
<p>This method returns a promise that resolves with a mocked endpoint.
Wait for the promise to confirm that the rule has taken effect
before sending requests to be matched. The mocked endpoint
can be used to assert on the requests matched by this rule.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">target</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/requestSteps.PassThroughStepOptions.html" class="tsd-signature-type tsd-kind-interface">PassThroughStepOptions</a><span class="tsd-signature-symbol"> = {}</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L415">rules/requests/request-rule-builder.ts:415</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenFromFile" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>From<wbr/>File</span><a href="#thenFromFile" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenFromFile.thenFromFile-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>From<wbr/>File</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">status</span>, <span class="tsd-kind-parameter">filePath</span>, <span class="tsd-kind-parameter">headers</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenFromFile.thenFromFile-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Reply to matched requests with a given status code and the current contents
of a given file. The status message and headers can also be optionally
provided here. If no headers are provided, only the standard required
headers are set.</p>
<p>The file is read near-fresh for each request, and external changes to its
content will be immediately appear in all subsequent requests.</p>
<p>If one string argument is provided, it's used as the body file path.
If two are provided (even if one is empty), then 1st is the status message,
and the 2nd the body. This matches the argument order of thenReply().</p>
<p>Calling this method registers the rule with the server, so it
starts to handle requests.</p>
<p>This method returns a promise that resolves with a mocked endpoint.
Wait for the promise to confirm that the rule has taken effect
before sending requests to be matched. The mocked endpoint
can be used to assert on the requests matched by this rule.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">status</span>: <span class="tsd-signature-type">number</span></span></li><li><span><span class="tsd-kind-parameter">filePath</span>: <span class="tsd-signature-type">string</span></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">headers</span>: <a href="../interfaces/Headers.html" class="tsd-signature-type tsd-kind-interface">Headers</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L333">rules/requests/request-rule-builder.ts:333</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="thenFromFile.thenFromFile-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>From<wbr/>File</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">status</span>, <span class="tsd-kind-parameter">statusMessage</span>, <span class="tsd-kind-parameter">filePath</span>, <span class="tsd-kind-parameter">headers</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenFromFile.thenFromFile-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">status</span>: <span class="tsd-signature-type">number</span></span></li><li><span><span class="tsd-kind-parameter">statusMessage</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">filePath</span>: <span class="tsd-signature-type">string</span></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">headers</span>: <a href="../interfaces/Headers.html" class="tsd-signature-type tsd-kind-interface">Headers</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L334">rules/requests/request-rule-builder.ts:334</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenJson" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Json</span><a href="#thenJson" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenJson.thenJson-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Json</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">status</span>, <span class="tsd-kind-parameter">data</span>, <span class="tsd-kind-parameter">headers</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenJson.thenJson-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Reply to matched requests with the given status &amp; JSON and (optionally)
extra headers.</p>
<p>This method is (approximately) shorthand for:
server.forGet(...).thenReply(status, JSON.stringify(data), { 'Content-Type': 'application/json' })</p>
<p>Calling this method registers the rule with the server, so it
starts to handle requests.</p>
<p>This method returns a promise that resolves with a mocked endpoint.
Wait for the promise to confirm that the rule has taken effect
before sending requests to be matched. The mocked endpoint
can be used to assert on the requests matched by this rule.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">status</span>: <span class="tsd-signature-type">number</span></span></li><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">object</span></span></li><li><span><span class="tsd-kind-parameter">headers</span>: <a href="../interfaces/Headers.html" class="tsd-signature-type tsd-kind-interface">Headers</a><span class="tsd-signature-symbol"> = {}</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L221">rules/requests/request-rule-builder.ts:221</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenPassThrough" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Pass<wbr/>Through</span><a href="#thenPassThrough" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenPassThrough.thenPassThrough-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Pass<wbr/>Through</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenPassThrough.thenPassThrough-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Pass matched requests through to their real destination. This works
for proxied requests only, direct requests will be rejected with
an error.</p>
<p>This method takes options to configure how the request is passed
through. See <a href="../interfaces/requestSteps.PassThroughStepOptions.html" class="tsd-kind-interface">PassThroughStepOptions</a> for the full details
of the options available.</p>
<p>Calling this method registers the rule with the server, so it
starts to handle requests.</p>
<p>This method returns a promise that resolves with a mocked endpoint.
Wait for the promise to confirm that the rule has taken effect
before sending requests to be matched. The mocked endpoint
can be used to assert on the requests matched by this rule.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/requestSteps.PassThroughStepOptions.html" class="tsd-signature-type tsd-kind-interface">PassThroughStepOptions</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L380">rules/requests/request-rule-builder.ts:380</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenReply" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Reply</span><a href="#thenReply" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenReply.thenReply-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Reply</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">status</span>, <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">headers</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">trailers</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenReply.thenReply-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Reply to matched requests with a given status code and (optionally) status message,
body, headers &amp; trailers.</p>
<p>If one string argument is provided, it's used as the body. If two are
provided (even if one is empty) then the 1st is the status message, and
the 2nd the body. If no headers are provided, only the standard required
headers are set, e.g. Date and Transfer-Encoding.</p>
<p>Calling this method registers the rule with the server, so it
starts to handle requests.</p>
<p>This method returns a promise that resolves with a mocked endpoint.
Wait for the promise to confirm that the rule has taken effect
before sending requests to be matched. The mocked endpoint
can be used to assert on the requests matched by this rule.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">status</span>: <span class="tsd-signature-type">number</span></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Buffer</span></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">headers</span>: <a href="../interfaces/Headers.html" class="tsd-signature-type tsd-kind-interface">Headers</a></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">trailers</span>: <a href="../interfaces/Trailers.html" class="tsd-signature-type tsd-kind-interface">Trailers</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L154">rules/requests/request-rule-builder.ts:154</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="thenReply.thenReply-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Reply</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">status</span>, <span class="tsd-kind-parameter">statusMessage</span>, <span class="tsd-kind-parameter">data</span>, <span class="tsd-kind-parameter">headers</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">trailers</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenReply.thenReply-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">status</span>: <span class="tsd-signature-type">number</span></span></li><li><span><span class="tsd-kind-parameter">statusMessage</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Buffer</span></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">headers</span>: <a href="../interfaces/Headers.html" class="tsd-signature-type tsd-kind-interface">Headers</a></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">trailers</span>: <a href="../interfaces/Trailers.html" class="tsd-signature-type tsd-kind-interface">Trailers</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L160">rules/requests/request-rule-builder.ts:160</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenResetConnection" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Reset<wbr/>Connection</span><a href="#thenResetConnection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenResetConnection.thenResetConnection-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Reset<wbr/>Connection</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenResetConnection.thenResetConnection-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Reset connections that match this rule immediately, sending a TCP
RST packet directly, without any status code or response, and without
cleanly closing the TCP connection.</p>
<p>This is only supported in Node.js versions (&gt;=16.17, &gt;=18.3.0, or
later), where <code>net.Socket</code> includes the <code>resetAndDestroy</code> method.</p>
<p>Calling this method registers the rule with the server, so it
starts to handle requests.</p>
<p>This method returns a promise that resolves with a mocked endpoint.
Wait for the promise to confirm that the rule has taken effect
before sending requests to be matched. The mocked endpoint
can be used to assert on the requests matched by this rule.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L486">rules/requests/request-rule-builder.ts:486</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenSendJsonRpcError" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Send<wbr/>Json<wbr/>Rpc<wbr/>Error</span><a href="#thenSendJsonRpcError" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenSendJsonRpcError.thenSendJsonRpcError-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Send<wbr/>Json<wbr/>Rpc<wbr/>Error</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenSendJsonRpcError.thenSendJsonRpcError-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Send a failing error JSON-RPC response to a JSON-RPC request. The error data
can be any JSON-serializable value. If a matching request is received that
is not a valid JSON-RPC request, it will be rejected with an HTTP error.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">error</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L547">rules/requests/request-rule-builder.ts:547</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenSendJsonRpcResult" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Send<wbr/>Json<wbr/>Rpc<wbr/>Result</span><a href="#thenSendJsonRpcResult" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenSendJsonRpcResult.thenSendJsonRpcResult-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Send<wbr/>Json<wbr/>Rpc<wbr/>Result</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">result</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenSendJsonRpcResult.thenSendJsonRpcResult-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Send a successful JSON-RPC response to a JSON-RPC request. The response data
can be any JSON-serializable value. If a matching request is received that
is not a valid JSON-RPC request, it will be rejected with an HTTP error.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">result</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L529">rules/requests/request-rule-builder.ts:529</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenStream" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Stream</span><a href="#thenStream" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenStream.thenStream-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Stream</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">status</span>, <span class="tsd-kind-parameter">stream</span>, <span class="tsd-kind-parameter">headers</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenStream.thenStream-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Respond immediately with the given status (and optionally, headers),
and then stream the given stream directly as the response body.</p>
<p>Note that streams can typically only be read once, and as such
this rule will only successfully trigger once. Subsequent requests
will receive a 500 and an explanatory error message. To mock
repeated requests with streams, create multiple streams and mock
them independently.</p>
<p>Calling this method registers the rule with the server, so it
starts to handle requests.</p>
<p>This method returns a promise that resolves with a mocked endpoint.
Wait for the promise to confirm that the rule has taken effect
before sending requests to be matched. The mocked endpoint
can be used to assert on the requests matched by this rule.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">status</span>: <span class="tsd-signature-type">number</span></span></li><li><span><span class="tsd-kind-parameter">stream</span>: <span class="tsd-signature-type">Readable</span></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">headers</span>: <a href="../interfaces/Headers.html" class="tsd-signature-type tsd-kind-interface">Headers</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L299">rules/requests/request-rule-builder.ts:299</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="thenTimeout" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>then<wbr/>Timeout</span><a href="#thenTimeout" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="thenTimeout.thenTimeout-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">then<wbr/>Timeout</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span><a href="#thenTimeout.thenTimeout-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Hold open connections that match this rule, but never respond
with anything at all, typically causing a timeout on the client side.</p>
<p>Calling this method registers the rule with the server, so it
starts to handle requests.</p>
<p>This method returns a promise that resolves with a mocked endpoint.
Wait for the promise to confirm that the rule has taken effect
before sending requests to be matched. The mocked endpoint
can be used to assert on the requests matched by this rule.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/MockedEndpoint.html" class="tsd-signature-type tsd-kind-interface">MockedEndpoint</a><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/rules/requests/request-rule-builder.ts#L511">rules/requests/request-rule-builder.ts:511</a></li></ul></aside></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Completion"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Completion</summary><div><a href="#always" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>always</span></a><a href="#once" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>once</span></a><a href="#thrice" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>thrice</span></a><a href="#times" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>times</span></a><a href="#twice" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>twice</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Matching"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Matching</summary><div><a href="#forHost" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>for<wbr/>Host</span></a><a href="#forHostname" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>for<wbr/>Hostname</span></a><a href="#forPort" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>for<wbr/>Port</span></a><a href="#matching" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>matching</span></a><a href="#withBody" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Body</span></a><a href="#withBodyIncluding" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Body<wbr/>Including</span></a><a href="#withCookie" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Cookie</span></a><a href="#withExactQuery" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Exact<wbr/>Query</span></a><a href="#withForm" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Form</span></a><a href="#withHeaders" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Headers</span></a><a href="#withJsonBody" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Json<wbr/>Body</span></a><a href="#withJsonBodyIncluding" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Json<wbr/>Body<wbr/>Including</span></a><a href="#withMultipartForm" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Multipart<wbr/>Form</span></a><a href="#withProtocol" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Protocol</span></a><a href="#withQuery" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Query</span></a><a href="#withUrlMatching" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>with<wbr/>Url<wbr/>Matching</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Other"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Other</summary><div><a href="#constructor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a><a href="#addWebhook" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>add<wbr/>Webhook</span></a><a href="#asPriority" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>as<wbr/>Priority</span></a><a href="#delay" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>delay</span></a><a href="#waitForRequestBody" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>wait<wbr/>For<wbr/>Request<wbr/>Body</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Responses"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Responses</summary><div><a href="#thenCallback" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Callback</span></a><a href="#thenCloseConnection" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Close<wbr/>Connection</span></a><a href="#thenForwardTo" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Forward<wbr/>To</span></a><a href="#thenFromFile" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>From<wbr/>File</span></a><a href="#thenJson" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Json</span></a><a href="#thenPassThrough" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Pass<wbr/>Through</span></a><a href="#thenReply" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Reply</span></a><a href="#thenResetConnection" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Reset<wbr/>Connection</span></a><a href="#thenSendJsonRpcError" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Send<wbr/>Json<wbr/>Rpc<wbr/>Error</span></a><a href="#thenSendJsonRpcResult" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Send<wbr/>Json<wbr/>Rpc<wbr/>Result</span></a><a href="#thenStream" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Stream</span></a><a href="#thenTimeout" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>then<wbr/>Timeout</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>mockttp</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
