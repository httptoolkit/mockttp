<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>MockttpHttpsOptions | mockttp</title><meta name="description" content="Documentation for mockttp"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">mockttp</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">mockttp</a></li><li><a href="MockttpHttpsOptions.html">MockttpHttpsOptions</a></li></ul><h1>Type Alias MockttpHttpsOptions</h1></div><div class="tsd-signature"><span class="tsd-kind-type-alias">Mockttp<wbr/>Https<wbr/>Options</span><span class="tsd-signature-symbol">:</span> <a href="CAOptions.html" class="tsd-signature-type tsd-kind-type-alias">CAOptions</a><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">defaultDomain</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">keyLogFile</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">tlsInterceptOnly</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">hostname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">tlsPassthrough</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">hostname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">tlsServerOptions</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">minVersion</span><span class="tsd-signature-symbol">?: </span><br/><span>            </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1.3&quot;</span><br/><span>            </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1.2&quot;</span><br/><span>            </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1.1&quot;</span><br/><span>            </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1&quot;</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">default<wbr/>Domain</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>The domain name that will be used in the certificate for incoming TLS
connections which don't use SNI to request a specific domain.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">key<wbr/>Log<wbr/>File</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>The path to a file where TLS session keys should be logged. This allows you to combine
Mockttp with Wireshark and similar, allowing to you inspect the decrypted raw bytes
and full TLS handshake details, while also using Mockttp for high-level capture
&amp; traffic modification.</p>
<p>When set, the keys for both client &amp; server sessions will be logged, allowing you
to examine both sides of the proxied connection.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">tls<wbr/>Intercept<wbr/>Only</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">hostname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><p>A limited list of the only hostnames whose TLS should be intercepted.</p>
<p>This is the opposite of <code>tlsPassthrough</code>. When set, only connections
to these hostnames will be intercepted, and all other TLS connections will
be passed through without interception.</p>
<p>This option is mutually exclusive with <code>tlsPassthrough</code> and setting both
options will throw an error.</p>
<p>Each element in this list must be an object with a 'hostname' field for the
hostname that should be matched. Wildcards are supported (following the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/URL_Pattern_API" target="_blank" class="external">URLPattern specification</a>),
eg. <code>{hostname: '*.example.com'}</code>.</p>
<p>In future more options may be supported
here for additional configuration of this behaviour.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">tls<wbr/>Passthrough</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">hostname</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><p>A list of hostnames where TLS interception should always be skipped.</p>
<p>When a TLS connection is started that references a matching hostname in its
server name indication (SNI) extension, or which uses a matching hostname
in a preceeding CONNECT request to create a tunnel, the connection will be
sent raw to the upstream hostname, without handling TLS within Mockttp (i.e.
with no TLS interception performed).</p>
<p>This option is mutually exclusive with <code>tlsInterceptOnly</code> and setting both
options will throw an error.</p>
<p>Each element in this list must be an object with a 'hostname' field for the
hostname that should be matched. Wildcards are supported (following the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/URL_Pattern_API" target="_blank" class="external">URLPattern specification</a>),
eg. <code>{hostname: '*.example.com'}</code>.</p>
<p>In future more options may be supported
here for additional configuration of this behaviour.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">tls<wbr/>Server<wbr/>Options</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">minVersion</span><span class="tsd-signature-symbol">?: </span><br/><span>        </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1.3&quot;</span><br/><span>        </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1.2&quot;</span><br/><span>        </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1.1&quot;</span><br/><span>        </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1&quot;</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></h5><div class="tsd-comment tsd-typography"><p>Set the TLS server options, used for incoming TLS connections.</p>
<p>The only officially supported option for now is the minimum TLS version, which can
be used to relax/tighten TLS requirements on clients. If not set, this defaults
to your Node version's default TLS configuration. The full list of versions can be
found at <a href="https://nodejs.org/api/tls.html#tlssocketgetprotocol" target="_blank" class="external">https://nodejs.org/api/tls.html#tlssocketgetprotocol</a>.</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag">Optional</code><span class="tsd-kind-property">min<wbr/>Version</span><span class="tsd-signature-symbol">?: </span><br/><span>    </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1.3&quot;</span><br/><span>    </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1.2&quot;</span><br/><span>    </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1.1&quot;</span><br/><span>    </span><span class="tsd-signature-symbol">| </span><span class="tsd-signature-type">&quot;TLSv1&quot;</span></h5></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/fb0a34af39c0b57aa97025c6dcb8b1de5a0b22bf/src/mockttp.ts#L767">mockttp.ts:767</a></li></ul></aside></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>mockttp</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
