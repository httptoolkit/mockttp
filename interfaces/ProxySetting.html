<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ProxySetting | mockttp</title><meta name="description" content="Documentation for mockttp"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">mockttp</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">mockttp</a></li><li><a href="ProxySetting.html">ProxySetting</a></li></ul><h1>Interface ProxySetting</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>A ProxySetting is a specific proxy setting to use, which is passed to a proxy agent
who will manage creating a socket for the request (directly, or tunnelled, or whatever).</p>
</div><div class="tsd-comment tsd-typography"></div></section><div class="tsd-signature"><span class="tsd-signature-keyword">interface </span><span class="tsd-kind-interface">ProxySetting</span> <span class="tsd-signature-symbol">{ </span><br/><span>    </span><a class="tsd-kind-property" href="ProxySetting.html#additionalTrustedCAs">additionalTrustedCAs</a><span class="tsd-signature-symbol">?: </span><a href="../types/CADefinition.html" class="tsd-signature-type tsd-kind-type-alias">CADefinition</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="ProxySetting.html#noProxy">noProxy</a><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="ProxySetting.html#proxyUrl">proxyUrl</a><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><a class="tsd-kind-property" href="ProxySetting.html#trustedCAs">trustedCAs</a><span class="tsd-signature-symbol">?: </span><a href="../types/CADefinition.html" class="tsd-signature-type tsd-kind-type-alias">CADefinition</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/2516d1d237f8822b9efd57556ca5cd439e1cb5c9/src/rules/proxy-config.ts#L11">rules/proxy-config.ts:11</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="ProxySetting.html#additionalTrustedCAs" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>additional<wbr/>TrustedCAs?</span></a>
<a href="ProxySetting.html#noProxy" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>no<wbr/>Proxy?</span></a>
<a href="ProxySetting.html#proxyUrl" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>proxy<wbr/>Url</span></a>
<a href="ProxySetting.html#trustedCAs" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>trustedCAs?</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Properties</h2></summary><section><section class="tsd-panel tsd-member"><a id="additionalTrustedCAs" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code><span>additional<wbr/>TrustedCAs</span><a href="#additionalTrustedCAs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">additional<wbr/>TrustedCAs</span><span class="tsd-signature-symbol">?:</span> <a href="../types/CADefinition.html" class="tsd-signature-type tsd-kind-type-alias">CADefinition</a><span class="tsd-signature-symbol">[]</span></div><div class="tsd-comment tsd-typography"><p>Extra CAs to trust for HTTPS connections to the proxy. Ignored if the connection
to the proxy is not HTTPS.</p>
<p>This appends to the list of trusted CAs, and is mutually exclusive with the
<code>trustedCAs</code> option, which completely overrides the list of CAs.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/2516d1d237f8822b9efd57556ca5cd439e1cb5c9/src/rules/proxy-config.ts#L61">rules/proxy-config.ts:61</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="noProxy" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code><span>no<wbr/>Proxy</span><a href="#noProxy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">no<wbr/>Proxy</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></div><div class="tsd-comment tsd-typography"><p>A list of no-proxy values, matching hosts' traffic should <em>not</em> be proxied.</p>
<p>This is a common proxy feature, but unfortunately isn't standardized. See
<a href="https://about.gitlab.com/blog/2021/01/27/we-need-to-talk-no-proxy/" target="_blank" class="external">https://about.gitlab.com/blog/2021/01/27/we-need-to-talk-no-proxy/</a> for some
background. This implementation is intended to match Curl's behaviour, and
any differences are a bug.</p>
<p>The currently supported formats are:</p>
<ul>
<li><a href="http://example.com" target="_blank" class="external">example.com</a> (matches domain and all subdomains)</li>
<li><a href="http://example.com:443" target="_blank" class="external">example.com:443</a> (matches domain and all subdomains, but only on that port)</li>
<li>10.0.0.1 (matches IP, but only when used directly - does not resolve domains)</li>
</ul>
<p>Some other formats (e.g. leading dots or *.) will work, but the leading
characters are ignored. More formats may be added in future, e.g. CIDR ranges.
To maximize compatibility with values used elsewhere, unrecognized formats
will generally be ignored, but may match in unexpected ways.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/2516d1d237f8822b9efd57556ca5cd439e1cb5c9/src/rules/proxy-config.ts#L38">rules/proxy-config.ts:38</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="proxyUrl" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>proxy<wbr/>Url</span><a href="#proxyUrl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">proxy<wbr/>Url</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>The URL for the proxy to forward traffic through.</p>
<p>This can be any URL supported by <a href="https://www.npmjs.com/package/proxy-agent" target="_blank" class="external">https://www.npmjs.com/package/proxy-agent</a>.
For example: http://..., socks5://..., pac+http://...</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/2516d1d237f8822b9efd57556ca5cd439e1cb5c9/src/rules/proxy-config.ts#L18">rules/proxy-config.ts:18</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="trustedCAs" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code><span>trustedCAs</span><a href="#trustedCAs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">trustedCAs</span><span class="tsd-signature-symbol">?:</span> <a href="../types/CADefinition.html" class="tsd-signature-type tsd-kind-type-alias">CADefinition</a><span class="tsd-signature-symbol">[]</span></div><div class="tsd-comment tsd-typography"><p>CAs to trust for HTTPS connections to the proxy. Ignored if the connection to
the proxy is not HTTPS. If not specified, this will default to the Node
defaults, or you can override them here completely.</p>
<p>This sets the complete list of trusted CAs, and is mutually exclusive with the
<code>additionalTrustedCAs</code> option, which adds additional CAs (but also trusts the
Node default CAs too).</p>
<p>This should be specified as either a { cert: string | Buffer } object or a
{ certPath: string } object (to read the cert from disk).</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/2516d1d237f8822b9efd57556ca5cd439e1cb5c9/src/rules/proxy-config.ts#L52">rules/proxy-config.ts:52</a></li></ul></aside></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#additionalTrustedCAs" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>additional<wbr/>TrustedCAs</span></a><a href="#noProxy" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>no<wbr/>Proxy</span></a><a href="#proxyUrl" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>proxy<wbr/>Url</span></a><a href="#trustedCAs" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>trustedCAs</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>mockttp</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
